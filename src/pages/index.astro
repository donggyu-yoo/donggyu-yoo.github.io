---
const postFiles = await import.meta.glob('./Blog/*/*.md', { eager: true });

const posts = Object.entries(postFiles).map(([path, post]) => {
  const pathParts = path.split('/');
  const category = pathParts[pathParts.length - 2]; // e.g., "Food"

  return {
    url: path.replace('./', '/').replace('.md', '/'),
    title: post.frontmatter.title,
    date: post.frontmatter.date,
    category,
  };
});

posts.sort((a, b) => new Date(b.date) - new Date(a.date));
---
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ë™ê·œì˜ ë¸”ë¡œê·¸</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="container">
      <aside class="sidebar">
        <h2>ì¹´í…Œê³ ë¦¬</h2>
        <ul>
          <li><a href="/Blog/Food/">ğŸ½ ìŒì‹(Food)</a></li>
          <li><a href="/Blog/Performance/">ğŸ­ ê³µì—°(Performance)</a></li>
          <li><a href="/Blog/Diary/">ğŸ“” ì¼ê¸°(Diary)</a></li>
        </ul>
      </aside>

      <main class="content">
        <h1>ë™ê·œì˜ ë¸”ë¡œê·¸</h1>
        <p>ìµœê·¼ ê²Œì‹œê¸€ì„ í™•ì¸í•˜ì„¸ìš”:</p>

        <ul>
          {posts.map(post => (
            <li>
              <a href={post.url}>
                <strong>[{post.category}]</strong> {post.title}
              </a><br />
              <small>{new Date(post.date).toLocaleDateString('ko-KR')}</small>
            </li>
          ))}
        </ul>
      </main>
    </div>
  </body>
</html>